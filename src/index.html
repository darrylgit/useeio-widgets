<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Impact chart example</title>
    <style>
        body {
            font-family: sans-serif;
        }
    </style>
</head>

<body>
    <div style="margin: 25px;">

        <div style="float: left; width: 40%;">
            <h4 style="text-align: center;">Sectors</h4>
            <div id="sector-list" style="height: 500px; overflow-y: scroll;">
            </div>
        </div>

        <div style="float: left; width: 60%">
            <h4 style="text-align: center;">Indicator results</h4>
            <div id="impact-chart">
            </div>
        </div>


        <div id="filter"></div>

    </div>
</body>
<script src="lib/d3.min.js"></script>
<script src="HashConfig.js"></script>
<script src="SectorList.js"></script>
<script src="ImpactChart.js"></script>
<script src="FilterWidget.js"></script>
<script>

    var apiConfig = {
        endpoint: 'http://localhost/api',
        model: 'USEEIO',
    };
    var config = USEEIO.HashConfig.create();

    var sectorList = USEEIO.SectorList.on({
        ...apiConfig,
        selector: '#sector-list',
    });

    var chart = USEEIO.ImpactChart.on({
        ...apiConfig,
        selector: '#impact-chart',
    });
    chart.update({
        sectors: ['1111A0', '111200', '111400', '112120']
    });

    var filter = USEEIO.FilterWidget.on('#filter');

    config.onChanged(function (conf) {
        chart.update(conf);
        filter.update(conf);
    });
</script>

</html>