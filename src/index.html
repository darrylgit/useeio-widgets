<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Impact chart example</title>
</head>

<body>
    <div id="sector-list" style="height: 250px; float: left; width: 30%;
    overflow: scroll;">
    </div>
    <div id="impact-chart" style="margin: auto; width: 70%">
    </div>
    <div id="filter"></div>
</body>
<script src="lib/d3.min.js"></script>
<script src="HashConfig.js"></script>
<script src="SectorList.js"></script>
<script src="ImpactChart.js"></script>
<script src="FilterWidget.js"></script>
<script>

    var apiConfig = {
        endpoint: 'http://localhost/api',
        model: 'USEEIO',
    };
    var config = USEEIO.HashConfig.create();

    var sectorList = USEEIO.SectorList.on({
        ...apiConfig,
        selector: '#sector-list',
    });

    var chart = USEEIO.ImpactChart.on({
        ...apiConfig,
        selector: '#impact-chart',
    });
    chart.update({
        sectors: ['1111A0', '111200', '111400', '112120']
    });

    var filter = USEEIO.FilterWidget.on('#filter');

    config.onChanged(function (conf) {
        chart.update(conf);
        filter.update(conf);
    });
</script>

</html>